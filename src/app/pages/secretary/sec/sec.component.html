<div class="container" *ngIf="sec">
  <br>
  <mat-card>
    <mat-card-title>{{'Период проведения' | translate}}</mat-card-title>
    <div class="row">
      <div class="col-xs-12 col-12 col-md-11 form-group full-width">
        <div class="row">

          <!-- <div class="like-form-group"> -->
          <div class="col-xs-12 col-12 col-md-2 form-group full-width">
            <mat-card-subtitle class="text-right">Дата начала</mat-card-subtitle>
          </div>
          <div class="col-xs-12 col-12 col-md-3 form-group">
            <mat-card-content>
              {{formatDate(sec.startDate)}}
            </mat-card-content>
          </div>
          <!-- </div> -->
        </div>
        <div class="row">

          <!-- <div class="like-form-group"> -->
          <div class="col-xs-12 col-12 col-md-2 form-group full-width">
            <mat-card-subtitle class="text-right">Дата окончания</mat-card-subtitle>
          </div>
          <div class="col-xs-12 col-12 col-md-3 form-group">

            <mat-card-content>
              {{formatDate(sec.endDate)}}
            </mat-card-content>
          </div>
          <!-- </div> -->
        </div>
      </div>
      <div class="col-xs-12 col-12 col-md-1">
        <!-- <button mat-raised-button color="primary"> -->
            <mat-icon [matMenuTriggerFor]="menuEdit">more_horiz</mat-icon>
          <!-- </button> -->
        <mat-menu #menuEdit="matMenu">
          <button mat-menu-item (click)="openSECDateForm(sec)">Изменить период проведения</button>
        </mat-menu>
      </div>
    </div>
    <!-- <div class="row">

      <div class="like-form-group">
        <div class="col-xs-12 col-12 col-md-4 form-group full-width">
          <input [bsConfig]="dateConfig" placeholder="Дата начала" (bsValueChange)="changeStartDate()" type="text"
            class="form-control full-width" #dps="bsDatepicker" bsDatepicker [(ngModel)]="sec.startDate" [maxDate]="sec.endDate ">
        </div>
      </div>
      <div class="col-xs-12 col-12 col-md-3 form-group">
        <button [disabled]="startDate" class="btn btn-success" (click)="dps.toggle()" [attr.aria-expanded]="dps.isOpen">Выбрать
          дату начала</button>
      </div>
    </div>
    <div class="row">

      <div class="like-form-group">
        <div class="col-xs-12 col-12 col-md-4 form-group  full-width">
          <input [minDate]="sec.startDate || minDate " (bsValueChange)="changeEndDate()" [disabled]="sec.startDate == null || endDate"
            type="text" class="form-control  full-width" #dpe="bsDatepicker" [bsConfig]="dateConfig" placeholder="Дата окончания"
            bsDatepicker [(ngModel)]="sec.endDate">
        </div>
      </div>
      <div class="col-xs-12 col-12 col-md-3 form-group">
        <button [disabled]="sec.startDate == null || endDate" class="btn btn-success" (click)="dpe.toggle()"
          [attr.aria-expanded]="dpe.isOpen">Выбрать дату окончания</button>
      </div>
    </div> -->
  </mat-card>

  <br>
  <mat-card>
    <mat-card-title>{{'Принимаемые группы' | translate}}</mat-card-title>

    <table *ngIf="sec.groups.length > 0" mat-table [dataSource]="sec.groups" class="mat-elevation-z8 full-width">

      <!--- Note that these columns can be defined in any order.
                  The actual rendered columns are set as a property on the row definition" -->

      <!-- Position Column -->
      <ng-container matColumnDef="number">
        <th mat-header-cell *matHeaderCellDef> {{'Номер' | translate}} </th>
        <td mat-cell *matCellDef="let group"> {{group.number}} </td>
      </ng-container>

      <!-- Name Column -->
      <ng-container matColumnDef="specialization">
        <th mat-header-cell *matHeaderCellDef> {{'Специальность' | translate}} </th>
        <td mat-cell *matCellDef="let group"> {{group.specialization.name}} </td>
      </ng-container>

      <!-- Name Column -->
      <ng-container matColumnDef="amount">
        <th mat-header-cell *matHeaderCellDef> {{'Количество студентов' | translate}} </th>
        <td mat-cell *matCellDef="let group"> {{group.amount_student}} </td>
      </ng-container>

      <!-- <ng-container matColumnDef="edit">
        <th mat-header-cell *matHeaderCellDef> </th>
        <td mat-cell *matCellDef="let group">
          <button (click)="openGroupForm(group)" type="button" class="btn btn-info">{{'Редактировать' | translate}}</button>
        </td>
      </ng-container>

      <ng-container matColumnDef="delete">
        <th mat-header-cell *matHeaderCellDef> </th>
        <td mat-cell *matCellDef="let group">
          <button (click)="deleteGroup(group)" type="button" class="btn btn-danger">{{'Удалить' | translate}}</button>
        </td>
      </ng-container> -->
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
    <div *ngIf="sec.groups.length == 0" class="center-text">
      {{'Нет выбранных групп' | translate}}
    </div>
    <br>
    <div class="row">
      <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
      </div>

      <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">

        <button (click)="openGroupForm(sec)" type="submit" class="btn btn-primary full-width">{{'Выбрать группы'
          |
          translate}}</button>
      </div>
      <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
      </div>
    </div>

  </mat-card>

  <br>
  <mat-card>
    <mat-card-title>{{'График приема' | translate}}</mat-card-title>

    <table *ngIf="sec.events.length > 0" mat-table [dataSource]="sec.events" class="mat-elevation-z8 full-width">

      <!--- Note that these columns can be defined in any order.
                  The actual rendered columns are set as a property on the row definition" -->

      <!-- Position Column -->
      <ng-container matColumnDef="date">
        <th mat-header-cell *matHeaderCellDef> {{'Дата проведения' | translate}} </th>
        <td mat-cell *matCellDef="let secEvent"> {{formatDateTime(secEvent.date)}} </td>
      </ng-container>

      <!-- Name Column -->
      <!-- <ng-container matColumnDef="endDate">
        <th mat-header-cell *matHeaderCellDef> {{'Специальность' | translate}} </th>
        <td mat-cell *matCellDef="let group"> {{group.specialization.name}} </td>
      </ng-container> -->

      <!-- Name Column -->
      <ng-container matColumnDef="address">
        <th mat-header-cell *matHeaderCellDef> {{'Адрес' | translate}} </th>
        <td mat-cell *matCellDef="let secEvent"> {{secEvent.address}} </td>
      </ng-container>

      <!-- Name Column -->
      <ng-container matColumnDef="edit">
        <th mat-header-cell *matHeaderCellDef> </th>
        <td mat-cell *matCellDef="let secEvent">
          <button (click)="openSECEventForm(sec, secEvent)" type="button" class="btn btn-info">{{'Редактировать' |
            translate}}</button>
        </td>
      </ng-container>

      <!-- Name Column -->
      <ng-container matColumnDef="delete">
        <th mat-header-cell *matHeaderCellDef> </th>
        <td mat-cell *matCellDef="let secEvent">
          <button (click)="deleteSECEvent(secEvent)" type="button" class="btn btn-danger">{{'Удалить' | translate}}</button>
        </td>
      </ng-container>

      <!-- <ng-container matColumnDef="edit">
        <th mat-header-cell *matHeaderCellDef> </th>
        <td mat-cell *matCellDef="let group">
          <button (click)="openGroupForm(group)" type="button" class="btn btn-info">{{'Редактировать' | translate}}</button>
        </td>
      </ng-container>

      <ng-container matColumnDef="delete">
        <th mat-header-cell *matHeaderCellDef> </th>
        <td mat-cell *matCellDef="let group">
          <button (click)="deleteGroup(group)" type="button" class="btn btn-danger">{{'Удалить' | translate}}</button>
        </td>
      </ng-container> -->
      <tr mat-header-row *matHeaderRowDef="displayedColumnsEvent"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumnsEvent;"></tr>
    </table>

    <div *ngIf="sec.events.length == 0" class="center-text">
      {{'нет графика' | translate}}
    </div>
    <br>
    <div class="row">
      <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
      </div>

      <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">

        <button (click)="openSECEventForm(sec)" type="submit" class="btn btn-primary full-width">{{'Добавить прием'
          |
          translate}}</button>
      </div>
      <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
      </div>
    </div>

  </mat-card>

  <br>

  <mat-card>
    <mat-card-title>
      Состав комиссии
    </mat-card-title>

    <table *ngIf="sec.users.length > 0" mat-table [dataSource]="sec.users" class="mat-elevation-z8 full-width">

      <!--- Note that these columns can be defined in any order.
                  The actual rendered columns are set as a property on the row definition" -->

      <!-- Position Column -->
      <ng-container matColumnDef="lastname">
        <th mat-header-cell *matHeaderCellDef> {{'Фамилия' | translate}} </th>
        <td mat-cell *matCellDef="let user"> {{user.lastname}} </td>
      </ng-container>

      <!-- Name Column -->
      <!-- <ng-container matColumnDef="endDate">
        <th mat-header-cell *matHeaderCellDef> {{'Специальность' | translate}} </th>
        <td mat-cell *matCellDef="let group"> {{group.specialization.name}} </td>
      </ng-container> -->

      <!-- Name Column -->
      <ng-container matColumnDef="firstname">
        <th mat-header-cell *matHeaderCellDef> {{'Имя' | translate}} </th>
        <td mat-cell *matCellDef="let user"> {{user.firstname}} </td>
      </ng-container>

      <!-- Name Column -->
      <ng-container matColumnDef="middlename">
        <th mat-header-cell *matHeaderCellDef> {{'Отчество' | translate}} </th>
        <td mat-cell *matCellDef="let user"> {{user.middlename}} </td>
      </ng-container>

      <!-- Name Column -->
      <ng-container matColumnDef="role">
        <th mat-header-cell *matHeaderCellDef> {{'Роль' | translate}} </th>
        <td mat-cell *matCellDef="let user"> {{user.roles[0].name}} </td>
      </ng-container>

      <ng-container matColumnDef="edit">
        <th mat-header-cell *matHeaderCellDef> </th>
        <td mat-cell *matCellDef="let user">
          <button (click)="openSECUserForm(sec, user)" type="button" class="btn btn-info">{{'Редактировать' |
            translate}}</button>
        </td>
      </ng-container>

      <ng-container matColumnDef="delete">
        <th mat-header-cell *matHeaderCellDef> </th>
        <td mat-cell *matCellDef="let user">
          <button (click)="deleteSECUser(user)" type="button" class="btn btn-danger">{{'Удалить' | translate}}</button>
        </td>
      </ng-container>

      <!-- <ng-container matColumnDef="edit">
        <th mat-header-cell *matHeaderCellDef> </th>
        <td mat-cell *matCellDef="let group">
          <button (click)="openGroupForm(group)" type="button" class="btn btn-info">{{'Редактировать' | translate}}</button>
        </td>
      </ng-container>

      <ng-container matColumnDef="delete">
        <th mat-header-cell *matHeaderCellDef> </th>
        <td mat-cell *matCellDef="let group">
          <button (click)="deleteGroup(group)" type="button" class="btn btn-danger">{{'Удалить' | translate}}</button>
        </td>
      </ng-container> -->
      <tr mat-header-row *matHeaderRowDef="displayedColumnsUsers"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumnsUsers;"></tr>
    </table>

    <div *ngIf="sec.users.length == 0" class="center-text">
      {{'В комиисии не назначено участники' | translate}}
    </div>
    <br>
    <div class="row">
      <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
      </div>

      <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">

        <button (click)="openSECUserForm(sec)" type="submit" class="btn btn-primary full-width">{{'Добавить участника
          комисии'
          |
          translate}}</button>
      </div>
      <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
      </div>
    </div>
  </mat-card>
  <br>



</div>